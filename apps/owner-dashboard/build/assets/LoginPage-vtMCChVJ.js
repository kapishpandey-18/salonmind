import{u as W,r as a,j as e,t as m}from"./index-_T_dclBo.js";import{c as F}from"./createLucideIcon-vxqge8nX.js";const G=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],w=F("loader-circle",G),M="/assets/login-hero-D7bq8Q1V.jpg",s={gold:"#FEBC2F",darkGray:"#262626",mediumGray:"#595959",lightGray:"#5F5F5F",inputBg:"#F8F8F8",inputBorder:"rgba(178,178,178,0.25)",textLight:"#E6E6E6"};function H(){const{sendOTP:k,resendOTP:S,loginWithOTP:C,isLoading:N}=W(),[c,I]=a.useState(""),[i,h]=a.useState(["","","","","",""]),[r,b]=a.useState(!1),[x,u]=a.useState(30),[g,f]=a.useState(!1),[O,d]=a.useState(!1),[p,y]=a.useState(null);a.useEffect(()=>{if(r&&x>0){const t=setInterval(()=>{u(n=>n<=1?(f(!0),clearInterval(t),0):n-1)},1e3);return()=>clearInterval(t)}},[r,x]);const P=()=>"+91"+c,z=()=>/^[6-9]\d{9}$/.test(c)?!0:(m.error("Please enter a valid 10-digit Indian mobile number"),!1),j=async()=>{if(z()){d(!0);try{const t=await k(P());y(t.challengeId),b(!0),u(30),f(!1)}catch{}finally{d(!1)}}},D=async()=>{if(!(!g||!p)){d(!0);try{const t=await S(p);y(t.challengeId),u(30),f(!1),h(["","","","","",""])}catch{}finally{d(!1)}}},E=(t,n)=>{if(n.length>1&&(n=n.slice(-1)),!/^\d*$/.test(n))return;const l=[...i];l[t]=n,h(l),n&&t<5&&document.getElementById(`otp-${t+1}`)?.focus()},R=(t,n)=>{n.key==="Backspace"&&!i[t]&&t>0&&document.getElementById(`otp-${t-1}`)?.focus()},B=t=>{t.preventDefault();const n=t.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);n.length===6&&(h(n.split("")),document.getElementById("otp-5")?.focus())},v=async()=>{const t=i.join("");if(t.length!==6){m.error("Please enter the complete 6-digit OTP");return}if(!p){m.error("Session expired. Please request a new OTP.");return}d(!0);try{await C({challengeId:p,otp:t})}catch{}finally{d(!1)}},L=t=>{t.key==="Enter"&&c.length===10&&j()},T=t=>{t.key==="Enter"&&i.every(n=>n)&&v()},o=O||N;return e.jsxs("div",{style:{minHeight:"100vh",display:"flex",backgroundColor:"#ffffff"},children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative",style:{backgroundColor:"#1a1a1a"},children:[e.jsx("img",{src:M,alt:"SalonMind Dashboard",style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12",style:{background:"linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0.3), transparent)"},children:[e.jsxs("div",{className:"flex items-center justify-center gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{style:{width:"1px",height:"48px",backgroundColor:"rgba(255,255,255,0.8)",margin:"0 auto 12px"}}),e.jsxs("p",{style:{color:"white",fontSize:"20px",fontWeight:"bold",lineHeight:"1.2"},children:["Manage",e.jsx("br",{}),"Appointments"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{style:{width:"1px",height:"48px",backgroundColor:"rgba(255,255,255,0.8)",margin:"0 auto 12px"}}),e.jsxs("p",{style:{color:"white",fontSize:"20px",fontWeight:"bold",lineHeight:"1.2"},children:["Track",e.jsx("br",{}),"Sales & Insights"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{style:{width:"1px",height:"48px",backgroundColor:"rgba(255,255,255,0.8)",margin:"0 auto 12px"}}),e.jsxs("p",{style:{color:"white",fontSize:"20px",fontWeight:"bold",lineHeight:"1.2"},children:["Automate",e.jsx("br",{}),"Social Media"]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{style:{color:"white",fontSize:"18px"},children:["Trusted by ",e.jsx("span",{style:{color:s.gold,fontWeight:"bold",fontSize:"24px"},children:"200+"})," Salons Across India"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[e.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"white",borderRadius:"50%"}}),e.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"rgba(255,255,255,0.5)",borderRadius:"50%"}}),e.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"rgba(255,255,255,0.5)",borderRadius:"50%"}})]})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12",style:{backgroundColor:s.darkGray},children:e.jsxs("div",{style:{width:"100%",maxWidth:"28rem"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{style:{color:"white",fontSize:"20px",marginBottom:"16px"},children:["Sign in to your ",e.jsx("span",{style:{color:s.gold,fontWeight:"bold"},children:"SalonMind"})," Dashboard"]}),e.jsx("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(255,255,255,0.2)"}})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"24px",height:"24px",backgroundColor:s.gold,borderRadius:"50%"},children:e.jsx("span",{style:{color:s.mediumGray,fontWeight:"600",fontSize:"14px"},children:"1"})}),e.jsx("label",{style:{color:"white",fontWeight:"500"},children:"Enter Your Mobile Number"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg",style:{backgroundColor:s.inputBg,border:`1px solid ${s.inputBorder}`},children:[e.jsx("span",{style:{color:s.lightGray,fontSize:"14px"},children:"+91 |"}),e.jsx("input",{type:"tel",placeholder:"Enter your phone number",value:c,onChange:t=>I(t.target.value.replace(/\D/g,"").slice(0,10)),onKeyDown:L,disabled:o||r,style:{flex:1,backgroundColor:"transparent",outline:"none",border:"none",fontSize:"14px",color:s.lightGray,opacity:o||r?.5:1}})]}),e.jsxs("button",{onClick:j,disabled:c.length<10||o||r,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg transition-colors",style:{backgroundColor:c.length<10||o||r?"rgba(254,188,47,0.5)":s.gold,color:s.mediumGray,fontWeight:"600",cursor:c.length<10||o||r?"not-allowed":"pointer"},children:[o&&!r&&e.jsx(w,{className:"h-4 w-4 animate-spin"}),"Sign in"]})]}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"24px",height:"24px",backgroundColor:s.gold,borderRadius:"50%"},children:e.jsx("span",{style:{color:s.mediumGray,fontWeight:"600",fontSize:"14px"},children:"2"})}),e.jsx("label",{style:{color:"white",fontWeight:"500"},children:"Enter OTP"})]}),e.jsx("div",{className:"flex gap-3 justify-center",onPaste:B,children:i.map((t,n)=>e.jsx("input",{id:`otp-${n}`,type:"text",inputMode:"numeric",maxLength:1,value:t,onChange:l=>E(n,l.target.value),onKeyDown:l=>{R(n,l),n===5&&T(l)},disabled:o,style:{width:"48px",height:"48px",backgroundColor:s.inputBg,border:`1px solid ${s.inputBorder}`,borderRadius:"16px",textAlign:"center",fontSize:"18px",color:"#333",outline:"none",opacity:o?.5:1}},n))}),e.jsxs("button",{onClick:v,disabled:i.some(t=>!t)||o,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg transition-colors",style:{backgroundColor:i.some(t=>!t)||o?"rgba(254,188,47,0.5)":s.gold,color:s.mediumGray,fontWeight:"600",cursor:i.some(t=>!t)||o?"not-allowed":"pointer"},children:[o&&e.jsx(w,{className:"h-4 w-4 animate-spin"}),"Verify & Continue"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("div",{style:{flex:1,height:"1px",backgroundColor:"rgba(230,230,230,0.3)"}}),e.jsx("button",{onClick:D,disabled:!g||o,style:{fontSize:"14px",color:s.textLight,cursor:!g||o?"not-allowed":"pointer",background:"none",border:"none"},children:g?e.jsx("span",{style:{color:s.gold},children:"Resend OTP"}):e.jsxs(e.Fragment,{children:["Resend OTP in"," ",e.jsxs("span",{style:{color:s.gold},children:[x," sec"]})]})}),e.jsx("div",{style:{flex:1,height:"1px",backgroundColor:"rgba(230,230,230,0.3)"}})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>{b(!1),h(["","","","","",""]),y(null)},style:{fontSize:"14px",color:"rgba(230,230,230,0.7)",background:"none",border:"none",cursor:"pointer"},children:"‚Üê Change phone number"})})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4",children:[e.jsx("svg",{style:{width:"24px",height:"8px",flexShrink:0},viewBox:"0 0 26.5 7.364",fill:"none",children:e.jsx("path",{d:"M0.499998 3.68198L22.182 0.499978L22.182 6.86398L0.499998 3.68198Z",fill:"white"})}),e.jsxs("p",{style:{fontSize:"14px",color:s.textLight},children:["By continuing, you agree to our"," ",e.jsx("a",{href:"/terms",style:{color:s.gold,textDecoration:"underline"},children:"Terms of Service."})]})]})]})]})})]})}export{H as default};
