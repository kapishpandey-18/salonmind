import{z as O,A,r as x,j as e}from"./index-_T_dclBo.js";import{C as p,a as g,b as re,c as ae}from"./card-mM-adsMl.js";import{B as h,c as k,d as w,e as C,f as P,g as a,b as D}from"./ownerService-CJxlrD2e.js";import{I as o}from"./input-BvLdwGAG.js";import{D as R,a as L,b as V,c as B,d as M}from"./dialog-R0K7NxxJ.js";import{L as c}from"./label-DvinGlq6.js";import{P as $,T as _}from"./trash-2-DIkBWH60.js";import{P as z,C as le}from"./Dashboard-vSO5UD5A.js";import{c as q}from"./createLucideIcon-vxqge8nX.js";import{T as ce}from"./trending-up-DWFjtjM_.js";import{S as ne}from"./search-1uIckXng.js";import{S as W}from"./square-pen-CZrv7Yc5.js";import"./index-BHur5ELe.js";const ie=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],oe=q("box",ie);const de=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H=q("triangle-alert",de),E={async list(i){const j=await O.get(A.OWNER.INVENTORY,{params:i}),v=j.data?.inventory??[];return{items:v,pagination:j.pagination??{page:1,limit:v.length,total:v.length,totalPages:1,hasNext:!1,hasPrev:!1}}},async update(i,j){return(await O.patch(`${A.OWNER.INVENTORY}/${i}`,j)).data?.inventory},async create(i){return(await O.post(A.OWNER.PRODUCTS,i)).data?.product},async remove(i){await O.delete(`${A.OWNER.PRODUCTS}/${i}`)}};function ke(){const[i,j]=x.useState([]),[v,Y]=x.useState(0),[f,J]=x.useState(""),[y,Q]=x.useState("all"),[Z,S]=x.useState(!1),[G,F]=x.useState(!1),[K,T]=x.useState(!1),[d,N]=x.useState(null),[t,u]=x.useState({name:"",category:"",currentStock:"",minStock:"",maxStock:"",unit:"",price:"",supplier:""}),[r,m]=x.useState({name:"",category:"",currentStock:"",minStock:"",maxStock:"",unit:"",price:"",supplier:""}),I=async()=>{try{const s=await E.list(),l=s.items??[];j(l.map(n=>({id:n.id,name:n.name,category:n.category||"",currentStock:n.currentStock,minStock:n.minStock,maxStock:n.maxStock,unit:n.unit||"",price:n.price??0,supplier:n.supplier||"",lastRestocked:n.lastRestocked||""}))),Y(s.pagination?.total??l.length)}catch(s){console.error("Failed to load inventory",s)}};x.useEffect(()=>{I()},[]);const U=i.filter(s=>{const l=s.name.toLowerCase().includes(f.toLowerCase())||s.supplier.toLowerCase().includes(f.toLowerCase()),n=y==="all"||s.category===y;return l&&n}),X=s=>{const l=s.currentStock/s.maxStock*100;return s.currentStock<=s.minStock?{status:"critical",label:"Low Stock",color:"bg-red-500/10 text-red-500 border-red-500/20"}:l<=50?{status:"warning",label:"Reorder Soon",color:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"}:{status:"good",label:"In Stock",color:"bg-green-500/10 text-green-500 border-green-500/20"}},b=i.filter(s=>s.currentStock<=s.minStock).length,ee=i.reduce((s,l)=>s+l.currentStock*l.price,0),se=i.reduce((s,l)=>s+l.currentStock,0),te=["all","Hair Care","Coloring","Styling","Treatment","Supplies"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-foreground",children:"Inventory Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage your salon products"})]}),e.jsxs(h,{onClick:()=>S(!0),className:"bg-gradient-to-r from-rose-400 to-purple-400 hover:from-rose-500 hover:to-purple-500 text-white shadow-lg shadow-rose-400/20 whitespace-nowrap",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(p,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-shadow",children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Products"}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-1",children:[e.jsx("span",{className:"text-2xl text-foreground",children:v||i.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active items"})]})]}),e.jsx("div",{className:"shrink-0 w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(z,{className:"w-5 h-5 text-purple-600"})})]})})}),e.jsx(p,{className:"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow",children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Stock"}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-1",children:[e.jsx("span",{className:"text-2xl text-foreground",children:se}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"items in stock"})]})]}),e.jsx("div",{className:"shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-blue-600"})})]})})}),e.jsx(p,{className:"border-l-4 border-l-green-500 hover:shadow-lg transition-shadow",children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Inventory Value"}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-1",children:[e.jsxs("span",{className:"text-2xl text-foreground",children:["₹",ee.toFixed(2)]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total worth"})]})]}),e.jsx("div",{className:"shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-green-600"})})]})})}),e.jsx(p,{className:"border-l-4 border-l-red-500 hover:shadow-lg transition-shadow",children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Low Stock Alerts"}),e.jsx("div",{className:"text-2xl text-foreground mb-1",children:b}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-red-50 text-red-700 px-1.5 py-0.5 rounded-full",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:"Urgent"})]}),e.jsx("span",{className:"text-muted-foreground",children:"needs reorder"})]})]}),e.jsx("div",{className:"shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-red-600"})})]})})})]}),e.jsx(p,{className:"bg-card border-border",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(o,{placeholder:"Search products or suppliers...",value:f,onChange:s=>J(s.target.value),className:"pl-10 bg-input-background border-border"})]}),e.jsxs(k,{value:y,onValueChange:Q,children:[e.jsx(w,{className:"w-full md:w-48 bg-input-background border-border",children:e.jsx(C,{placeholder:"Category"})}),e.jsx(P,{children:te.map(s=>e.jsx(a,{value:s,children:s==="all"?"All Categories":s},s))})]})]})})}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:U.map(s=>{const l=X(s),n=s.currentStock/s.maxStock*100;return e.jsxs(p,{className:"bg-card border-border hover:shadow-lg transition-all hover:scale-[1.02] relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${l.status==="critical"?"bg-red-500":l.status==="warning"?"bg-yellow-500":"bg-gradient-to-r from-green-500 to-emerald-400"}`}),e.jsxs(g,{className:"p-4 pt-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(D,{variant:"outline",className:"border-purple-600/20 text-purple-600 bg-purple-50/50",children:s.category}),e.jsx(D,{variant:"outline",className:l.color,children:l.label})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-foreground line-clamp-1 mb-1",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.unit})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Stock Level"}),e.jsxs("span",{className:"text-foreground",children:[s.currentStock," / ",s.maxStock]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${l.status==="critical"?"bg-red-500":l.status==="warning"?"bg-yellow-500":"bg-gradient-to-r from-green-500 to-emerald-400"}`,style:{width:`${n}%`}})}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min: ",s.minStock]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-1.5 border-t border-border",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),e.jsxs("span",{className:"text-foreground",children:["₹",s.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1.5 border-t border-border",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Supplier"}),e.jsx("span",{className:"text-xs text-foreground truncate ml-2 max-w-[150px]",children:s.supplier})]}),e.jsxs("div",{className:"flex items-center justify-between py-1.5 border-t border-border",children:[e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3"}),"Last Restocked"]}),e.jsx("span",{className:"text-xs text-foreground",children:new Date(s.lastRestocked).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(h,{variant:"outline",size:"sm",className:"flex-1 h-9",onClick:()=>{N(s),m({name:s.name,category:s.category,currentStock:s.currentStock.toString(),minStock:s.minStock.toString(),maxStock:s.maxStock.toString(),unit:s.unit,price:s.price.toString(),supplier:s.supplier}),F(!0)},children:[e.jsx(W,{className:"w-3 h-3 mr-2"}),e.jsx("span",{className:"truncate",children:"Edit"})]}),e.jsx(h,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-9 px-3",onClick:()=>{N(s),T(!0)},children:e.jsx(_,{className:"w-4 h-4"})})]})]})]},s.id)})}),U.length===0&&e.jsx(p,{className:"bg-card border-border",children:e.jsxs(g,{className:"p-12 text-center",children:[e.jsx(z,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-foreground mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:f||y!=="all"?"Try adjusting your search or filters":"Add your first product to get started"}),!f&&y==="all"&&e.jsxs(h,{onClick:()=>S(!0),className:"bg-gradient-to-r from-rose-400 to-purple-400 hover:from-rose-500 hover:to-purple-500 text-white",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]})}),b>0&&e.jsxs(p,{className:"bg-red-500/5 border-red-500/20",children:[e.jsx(re,{children:e.jsxs(ae,{className:"flex items-center gap-2 text-red-500",children:[e.jsx(H,{className:"w-5 h-5"}),"Low Stock Alert"]})}),e.jsxs(g,{children:[e.jsxs("p",{className:"text-muted-foreground mb-4",children:[b," product",b!==1?"s":""," need",b===1?"s":""," to be restocked"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.filter(s=>s.currentStock<=s.minStock).map(s=>e.jsxs(D,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:[s.name," (",s.currentStock," left)"]},s.id))})]})]}),e.jsx(R,{open:Z,onOpenChange:S,children:e.jsxs(L,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(V,{children:[e.jsx(B,{children:"Add New Product"}),e.jsx(M,{children:"Add a new product to your inventory"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"product-name",children:"Product Name *"}),e.jsx(o,{id:"product-name",placeholder:"e.g., Shampoo Professional",value:t.name,onChange:s=>u({...t,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"product-category",children:"Category *"}),e.jsxs(k,{value:t.category,onValueChange:s=>u({...t,category:s}),children:[e.jsx(w,{id:"product-category",children:e.jsx(C,{placeholder:"Select category"})}),e.jsxs(P,{children:[e.jsx(a,{value:"Hair Care",children:"Hair Care"}),e.jsx(a,{value:"Coloring",children:"Coloring"}),e.jsx(a,{value:"Styling",children:"Styling"}),e.jsx(a,{value:"Treatment",children:"Treatment"}),e.jsx(a,{value:"Supplies",children:"Supplies"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"current-stock",children:"Current Stock *"}),e.jsx(o,{id:"current-stock",type:"number",placeholder:"50",value:t.currentStock,onChange:s=>u({...t,currentStock:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"min-stock",children:"Min Stock *"}),e.jsx(o,{id:"min-stock",type:"number",placeholder:"20",value:t.minStock,onChange:s=>u({...t,minStock:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"max-stock",children:"Max Stock *"}),e.jsx(o,{id:"max-stock",type:"number",placeholder:"100",value:t.maxStock,onChange:s=>u({...t,maxStock:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"unit",children:"Unit *"}),e.jsxs(k,{value:t.unit,onValueChange:s=>u({...t,unit:s}),children:[e.jsx(w,{id:"unit",children:e.jsx(C,{placeholder:"Select unit"})}),e.jsxs(P,{children:[e.jsx(a,{value:"bottles",children:"Bottles"}),e.jsx(a,{value:"tubes",children:"Tubes"}),e.jsx(a,{value:"jars",children:"Jars"}),e.jsx(a,{value:"pieces",children:"Pieces"}),e.jsx(a,{value:"boxes",children:"Boxes"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"price",children:"Price (₹) *"}),e.jsx(o,{id:"price",type:"number",step:"0.01",placeholder:"24.99",value:t.price,onChange:s=>u({...t,price:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"supplier",children:"Supplier *"}),e.jsx(o,{id:"supplier",placeholder:"e.g., Beauty Supply Co",value:t.supplier,onChange:s=>u({...t,supplier:s.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(h,{variant:"outline",onClick:()=>{S(!1),u({name:"",category:"",currentStock:"",minStock:"",maxStock:"",unit:"",price:"",supplier:""})},children:"Cancel"}),e.jsxs(h,{className:"bg-gradient-to-r from-rose-400 to-purple-400 hover:from-rose-500 hover:to-purple-500 text-white",onClick:()=>{t.name&&t.category&&t.currentStock&&t.minStock&&t.maxStock&&t.unit&&t.price&&t.supplier&&(E.create({name:t.name,category:t.category,currentStock:Number(t.currentStock),minStock:Number(t.minStock),maxStock:Number(t.maxStock),unit:t.unit,price:Number(t.price),supplier:t.supplier}).then(()=>I()).catch(s=>{console.error("Failed to add inventory item",s)}),S(!1),u({name:"",category:"",currentStock:"",minStock:"",maxStock:"",unit:"",price:"",supplier:""}))},disabled:!t.name||!t.category||!t.currentStock||!t.minStock||!t.maxStock||!t.unit||!t.price||!t.supplier,children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})]})]})}),e.jsx(R,{open:G,onOpenChange:F,children:e.jsxs(L,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(V,{children:[e.jsx(B,{children:"Edit Product"}),e.jsxs(M,{children:["Update product details for ",d?.name]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-product-name",children:"Product Name *"}),e.jsx(o,{id:"edit-product-name",placeholder:"e.g., Shampoo Professional",value:r.name,onChange:s=>m({...r,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-product-category",children:"Category *"}),e.jsxs(k,{value:r.category,onValueChange:s=>m({...r,category:s}),children:[e.jsx(w,{id:"edit-product-category",children:e.jsx(C,{placeholder:"Select category"})}),e.jsxs(P,{children:[e.jsx(a,{value:"Hair Care",children:"Hair Care"}),e.jsx(a,{value:"Coloring",children:"Coloring"}),e.jsx(a,{value:"Styling",children:"Styling"}),e.jsx(a,{value:"Treatment",children:"Treatment"}),e.jsx(a,{value:"Supplies",children:"Supplies"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-current-stock",children:"Current Stock *"}),e.jsx(o,{id:"edit-current-stock",type:"number",placeholder:"50",value:r.currentStock,onChange:s=>m({...r,currentStock:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-min-stock",children:"Min Stock *"}),e.jsx(o,{id:"edit-min-stock",type:"number",placeholder:"20",value:r.minStock,onChange:s=>m({...r,minStock:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-max-stock",children:"Max Stock *"}),e.jsx(o,{id:"edit-max-stock",type:"number",placeholder:"100",value:r.maxStock,onChange:s=>m({...r,maxStock:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-unit",children:"Unit *"}),e.jsxs(k,{value:r.unit,onValueChange:s=>m({...r,unit:s}),children:[e.jsx(w,{id:"edit-unit",children:e.jsx(C,{placeholder:"Select unit"})}),e.jsxs(P,{children:[e.jsx(a,{value:"bottles",children:"Bottles"}),e.jsx(a,{value:"tubes",children:"Tubes"}),e.jsx(a,{value:"jars",children:"Jars"}),e.jsx(a,{value:"pieces",children:"Pieces"}),e.jsx(a,{value:"boxes",children:"Boxes"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-price",children:"Price (₹) *"}),e.jsx(o,{id:"edit-price",type:"number",step:"0.01",placeholder:"24.99",value:r.price,onChange:s=>m({...r,price:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"edit-supplier",children:"Supplier *"}),e.jsx(o,{id:"edit-supplier",placeholder:"e.g., Beauty Supply Co",value:r.supplier,onChange:s=>m({...r,supplier:s.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(h,{variant:"outline",onClick:()=>{F(!1),N(null),m({name:"",category:"",currentStock:"",minStock:"",maxStock:"",unit:"",price:"",supplier:""})},children:"Cancel"}),e.jsxs(h,{className:"bg-gradient-to-r from-rose-400 to-purple-400 hover:from-rose-500 hover:to-purple-500 text-white",onClick:()=>{r.name&&r.category&&r.currentStock&&r.minStock&&r.maxStock&&r.unit&&r.price&&r.supplier&&(d&&E.update(d.id,{name:r.name,category:r.category,currentStock:Number(r.currentStock),minStock:Number(r.minStock),maxStock:Number(r.maxStock),unit:r.unit,price:Number(r.price),supplier:r.supplier}).then(()=>I()).catch(s=>{console.error("Failed to update inventory item",s)}),F(!1),N(null),m({name:"",category:"",currentStock:"",minStock:"",maxStock:"",unit:"",price:"",supplier:""}))},disabled:!r.name||!r.category||!r.currentStock||!r.minStock||!r.maxStock||!r.unit||!r.price||!r.supplier,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}),e.jsx(R,{open:K,onOpenChange:T,children:e.jsxs(L,{className:"max-w-md",children:[e.jsxs(V,{children:[e.jsx(B,{children:"Delete Product"}),e.jsx(M,{children:"Are you sure you want to delete this product? This action cannot be undone."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[d&&e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Product Name"}),e.jsx("span",{className:"text-foreground",children:d.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Category"}),e.jsx(D,{variant:"outline",className:"border-purple-600/20 text-purple-600",children:d.category})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Stock"}),e.jsxs("span",{className:"text-foreground",children:[d.currentStock," ",d.unit]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Price"}),e.jsxs("span",{className:"text-foreground",children:["₹",d.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(h,{variant:"outline",onClick:()=>{T(!1),N(null)},children:"Cancel"}),e.jsxs(h,{variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>{d&&E.remove(d.id).then(()=>I()).catch(s=>{console.error("Failed to delete inventory item",s)}),T(!1),N(null)},children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Delete Product"]})]})]})]})})]})}export{ke as default};
