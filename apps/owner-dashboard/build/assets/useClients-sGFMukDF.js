import{u as d,a as r}from"./Dashboard-vSO5UD5A.js";import{z as s,A as o,q as m}from"./index-_T_dclBo.js";const y=(e,t)=>{const a=e.data?.[t]??[];return{items:a,pagination:e.pagination??{page:1,limit:a.length,total:a.length,totalPages:1,hasNext:!1,hasPrev:!1}}},c={async list(e){const t=await s.get(o.OWNER.CLIENTS,{params:{...e,branchId:e.branchId||void 0}});return y(t,"clients")},async create(e){return(await s.post(o.OWNER.CLIENTS,e)).data?.client},async update(e,t){return(await s.patch(`${o.OWNER.CLIENTS}/${e}`,t)).data?.client},async remove(e){await s.delete(`${o.OWNER.CLIENTS}/${e}`)}},h=e=>["owner-clients",e.branchId,e.search,e.page,e.limit];function v(e){return d({queryKey:h(e),queryFn:()=>c.list(e),enabled:!!e.branchId,keepPreviousData:!0})}function g(e){const t=m(),a=()=>t.invalidateQueries({queryKey:["owner-clients",e],exact:!1}),i=r({mutationFn:n=>c.create({...n,branchId:n.branchId||e||void 0}),onSuccess:a}),u=r({mutationFn:({id:n,data:p})=>c.update(n,p),onSuccess:a}),l=r({mutationFn:n=>c.remove(n),onSuccess:a});return{create:i,update:u,remove:l}}export{g as a,v as u};
