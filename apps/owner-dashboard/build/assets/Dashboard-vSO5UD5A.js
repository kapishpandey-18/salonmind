const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Overview-DQxfpVLT.js","assets/index-_T_dclBo.js","assets/index-ChW0zQdp.css","assets/card-mM-adsMl.js","assets/ownerService-CJxlrD2e.js","assets/createLucideIcon-vxqge8nX.js","assets/reports.service-DfSIJ2MT.js","assets/trending-up-DWFjtjM_.js","assets/star-BwUZsI9g.js","assets/clock-Bb3qLlbr.js","assets/Appointments-B4EskD19.js","assets/dialog-R0K7NxxJ.js","assets/index-BHur5ELe.js","assets/input-BvLdwGAG.js","assets/label-DvinGlq6.js","assets/EmptyState-CZE-0j11.js","assets/useDebouncedValue-tealXdGx.js","assets/search-1uIckXng.js","assets/trash-2-DIkBWH60.js","assets/useStaff-DIArrfxW.js","assets/useServices-6dh7S5Ff.js","assets/useClients-sGFMukDF.js","assets/circle-check-BWQBntIy.js","assets/Clients-owzahhoB.js","assets/user-check-Be86tNXl.js","assets/phone-D-xVqN8g.js","assets/mail-BiSpYR7m.js","assets/Staff-CPJuuxR3.js","assets/switch-CDDxG62m.js","assets/StaffDetails-DDTDw0DR.js","assets/Services-DIJ-D9QT.js","assets/Revenue-BgxmZNIr.js","assets/tabs-BnWsuEag.js","assets/credit-card-mDrDSJyn.js","assets/Inventory-CiLg-mab.js","assets/square-pen-CZrv7Yc5.js","assets/Products-8BTE0NeU.js","assets/textarea-C6dSRoky.js","assets/ProfileSettings-DlKJ3iOB.js","assets/plans.service-CdlrX50D.js","assets/Help-A7e-5Lz8.js"])))=>i.map(i=>d[i]);
import{S as te,p as $,a as y,s as A,b as I,n as L,i as Q,c as K,d as re,e as T,f as ne,g as oe,h as q,k as B,l as W,m as le,r as l,o as se,q as z,v as P,j as s,_ as g}from"./index-_T_dclBo.js";import{o as ie,S as V,U as G,a as ce,B as D,b as he,c as ue,d as de,e as fe,f as pe,g as be}from"./ownerService-CJxlrD2e.js";import{c as _}from"./createLucideIcon-vxqge8nX.js";var ve=class extends te{constructor(e,t){super(),this.options=t,this.#s=e,this.#o=null,this.#n=$(),this.bindMethods(),this.setOptions(t)}#s;#e=void 0;#i=void 0;#t=void 0;#a;#r;#n;#o;#b;#d;#f;#c;#h;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),X(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#_(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#s.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof y(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),t._defaulted&&!A(this.options,t)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&Y(this.#e,r,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#e!==r||y(this.options.enabled,this.#e)!==y(t.enabled,this.#e)||I(this.options.staleTime,this.#e)!==I(t.staleTime,this.#e))&&this.#v();const n=this.#x();a&&(this.#e!==r||y(this.options.enabled,this.#e)!==y(t.enabled,this.#e)||n!==this.#l)&&this.#m(n)}getOptimisticResult(e){const t=this.#s.getQueryCache().build(this.#s,e),r=this.createResult(t,e);return me(this,r)&&(this.#t=r,this.#r=this.options,this.#a=this.#e.state),r}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#n.status==="pending"&&this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#s.defaultQueryOptions(e),r=this.#s.getQueryCache().build(this.#s,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#u(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(L)),t}#v(){this.#g();const e=I(this.options.staleTime,this.#e);if(Q||this.#t.isStale||!K(e))return;const r=re(this.#t.dataUpdatedAt,e)+1;this.#c=T.setTimeout(()=>{this.#t.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#m(e){this.#_(),this.#l=e,!(Q||y(this.options.enabled,this.#e)===!1||!K(this.#l)||this.#l===0)&&(this.#h=T.setInterval(()=>{(this.options.refetchIntervalInBackground||ne.isFocused())&&this.#u()},this.#l))}#y(){this.#v(),this.#m(this.#x())}#g(){this.#c&&(T.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#h&&(T.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const r=this.#e,a=this.options,n=this.#t,p=this.#a,o=this.#r,d=e!==r?e.state:this.#i,{state:c}=e;let h={...c},S=!1,f;if(t._optimisticResults){const i=this.hasListeners(),v=!i&&X(e,t),u=i&&Y(e,r,t,a);(v||u)&&(h={...h,...oe(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:E,errorUpdatedAt:O,status:x}=h;f=h.data;let N=!1;if(t.placeholderData!==void 0&&f===void 0&&x==="pending"){let i;n?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(i=n.data,N=!0):i=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,i!==void 0&&(x="success",f=q(n?.data,i,t),S=!0)}if(t.select&&f!==void 0&&!N)if(n&&f===p?.data&&t.select===this.#b)f=this.#d;else try{this.#b=t.select,f=t.select(f),f=q(n?.data,f,t),this.#d=f,this.#o=null}catch(i){this.#o=i}this.#o&&(E=this.#o,f=this.#d,O=Date.now(),x="error");const C=h.fetchStatus==="fetching",j=x==="pending",R=x==="error",k=j&&C,M=f!==void 0,m={status:x,fetchStatus:h.fetchStatus,isPending:j,isSuccess:x==="success",isError:R,isInitialLoading:k,isLoading:k,data:f,dataUpdatedAt:h.dataUpdatedAt,error:E,errorUpdatedAt:O,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:C,isRefetching:C&&!j,isLoadingError:R&&!M,isPaused:h.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:R&&M,isStale:F(e,t),refetch:this.refetch,promise:this.#n,isEnabled:y(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const i=w=>{m.status==="error"?w.reject(m.error):m.data!==void 0&&w.resolve(m.data)},v=()=>{const w=this.#n=m.promise=$();i(w)},u=this.#n;switch(u.status){case"pending":e.queryHash===r.queryHash&&i(u);break;case"fulfilled":(m.status==="error"||m.data!==u.value)&&v();break;case"rejected":(m.status!=="error"||m.error!==u.reason)&&v();break}}return m}updateResult(){const e=this.#t,t=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#r=this.options,this.#a.data!==void 0&&(this.#f=this.#e),A(t,e))return;this.#t=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,n=typeof a=="function"?a():a;if(n==="all"||!n&&!this.#p.size)return!0;const p=new Set(n??this.#p);return this.options.throwOnError&&p.add("error"),Object.keys(this.#t).some(o=>{const b=o;return this.#t[b]!==e[b]&&p.has(b)})};this.#S({listeners:r()})}#w(){const e=this.#s.getQueryCache().build(this.#s,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(e){B.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function xe(e,t){return y(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function X(e,t){return xe(e,t)||e.state.data!==void 0&&U(e,t,t.refetchOnMount)}function U(e,t,r){if(y(t.enabled,e)!==!1&&I(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&F(e,t)}return!1}function Y(e,t,r,a){return(e!==t||y(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&F(e,r)}function F(e,t){return y(t.enabled,e)!==!1&&e.isStaleByTime(I(t.staleTime,e))}function me(e,t){return!A(e.getCurrentResult(),t)}var ye=class extends te{#s;#e=void 0;#i;#t;constructor(e,t){super(),this.#s=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#s.defaultMutationOptions(e),A(this.options,t)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&W(t.mutationKey)!==W(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#r(e)}getCurrentResult(){return this.#e}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#a(),this.#r()}mutate(e,t){return this.#t=t,this.#i?.removeObserver(this),this.#i=this.#s.getMutationCache().build(this.#s,this.options),this.#i.addObserver(this),this.#i.execute(e)}#a(){const e=this.#i?.state??le();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#r(e){B.batch(()=>{if(this.#t&&this.hasListeners()){const t=this.#e.variables,r=this.#e.context,a={client:this.#s,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#t.onSuccess?.(e.data,t,r,a),this.#t.onSettled?.(e.data,null,t,r,a)):e?.type==="error"&&(this.#t.onError?.(e.error,t,r,a),this.#t.onSettled?.(void 0,e.error,t,r,a))}this.listeners.forEach(t=>{t(this.#e)})})}},ae=l.createContext(!1),ge=()=>l.useContext(ae);ae.Provider;function _e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var we=l.createContext(_e()),Se=()=>l.useContext(we),Re=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},je=e=>{l.useEffect(()=>{e.clearReset()},[e])},Ee=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||se(r,[e.error,a])),Ce=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ie=(e,t)=>e.isLoading&&e.isFetching&&!t,Oe=(e,t)=>e?.suspense&&t.isPending,Z=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ne(e,t,r){const a=ge(),n=Se(),p=z(),o=p.defaultQueryOptions(e);p.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",Ce(o),Re(o,n),je(n);const b=!p.getQueryCache().get(o.queryHash),[d]=l.useState(()=>new t(p,o)),c=d.getOptimisticResult(o),h=!a&&e.subscribed!==!1;if(l.useSyncExternalStore(l.useCallback(S=>{const f=h?d.subscribe(B.batchCalls(S)):L;return d.updateResult(),f},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),l.useEffect(()=>{d.setOptions(o)},[o,d]),Oe(o,c))throw Z(o,d,n);if(Ee({result:c,errorResetBoundary:n,throwOnError:o.throwOnError,query:p.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return p.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Q&&Ie(c,a)&&(b?Z(o,d,n):p.getQueryCache().get(o.queryHash)?.promise)?.catch(L).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?c:d.trackResult(c)}function ke(e,t){return Ne(e,ve)}function Me(e,t){const r=z(),[a]=l.useState(()=>new ye(r,e));l.useEffect(()=>{a.setOptions(e)},[a,e]);const n=l.useSyncExternalStore(l.useCallback(o=>a.subscribe(B.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),p=l.useCallback((o,b)=>{a.mutate(o,b).catch(L)},[a]);if(n.error&&se(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:p,mutateAsync:n.mutate}}const Te=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pe=_("calendar",Te);const De=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ae=_("circle-help",De);const Le=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Be=_("dollar-sign",Le);const Ve=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Qe=_("layout-dashboard",Ve);const Ue=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],J=_("log-out",Ue);const ze=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Fe=_("menu",ze);const He=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$e=_("package",He);const Ke=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qe=_("settings",Ke);const We=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Ge=_("shopping-bag",We);const Xe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ye=_("x",Xe);function Ze(){const e=z();return Me({mutationFn:t=>ie.setActiveBranch(t),onSuccess:()=>{e.invalidateQueries({queryKey:["tenant-context"]})}})}const ee=l.lazy(()=>g(()=>import("./Overview-DQxfpVLT.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),Je=l.lazy(()=>g(()=>import("./Appointments-B4EskD19.js"),__vite__mapDeps([10,1,2,3,4,5,11,12,13,14,15,16,17,18,19,20,21,9,22]))),et=l.lazy(()=>g(()=>import("./Clients-owzahhoB.js"),__vite__mapDeps([23,1,2,3,4,5,11,12,13,14,15,16,17,18,21,24,8,25,26]))),tt=l.lazy(()=>g(()=>import("./Staff-CPJuuxR3.js"),__vite__mapDeps([27,1,2,3,4,5,11,12,13,14,28,15,16,17,18,19,24,8,25]))),st=l.lazy(()=>g(()=>import("./StaffDetails-DDTDw0DR.js"),__vite__mapDeps([29,1,2,4,5,3,15,19]))),it=l.lazy(()=>g(()=>import("./Services-DIJ-D9QT.js"),__vite__mapDeps([30,1,2,3,4,5,11,12,13,14,28,15,16,17,18,20,22,9]))),at=l.lazy(()=>g(()=>import("./Revenue-BgxmZNIr.js"),__vite__mapDeps([31,1,2,3,4,5,32,12,6,7,33]))),rt=l.lazy(()=>g(()=>import("./Inventory-CiLg-mab.js"),__vite__mapDeps([34,1,2,3,4,5,13,11,12,14,18,7,17,35]))),nt=l.lazy(()=>g(()=>import("./Products-8BTE0NeU.js"),__vite__mapDeps([36,1,2,3,4,5,13,14,32,12,11,37,18,7,17,35]))),ot=l.lazy(()=>g(()=>import("./ProfileSettings-DlKJ3iOB.js"),__vite__mapDeps([38,1,2,3,4,5,13,14,32,12,28,39]))),lt=l.lazy(()=>g(()=>import("./Help-A7e-5Lz8.js"),__vite__mapDeps([40,1,2,3,4,5,13,12,17,26,25,9])));function ct(){return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading view..."})]})})}function ht({onLogout:e}){const[t,r]=l.useState("overview"),[a,n]=l.useState(null),[p,o]=l.useState(!1),[b,d]=l.useState(()=>typeof window>"u"?null:localStorage.getItem(P.ACTIVE_BRANCH_ID)),{data:c,isLoading:h}=ke({queryKey:["tenant-context"],queryFn:ie.getTenantContext,retry:1,refetchOnWindowFocus:!1}),S=Ze();l.useEffect(()=>{if(typeof window>"u"||!c?.activeBranchId)return;const i=localStorage.getItem(P.ACTIVE_BRANCH_ID),u=c.branches?.some(w=>w.id===i)?i:c.activeBranchId||i;u&&u!==b&&(d(u),localStorage.setItem(P.ACTIVE_BRANCH_ID,u))},[c,b]),l.useEffect(()=>{if(typeof window>"u")return;const i=v=>{const u=v?.state??window.history.state;if(u?.view){r(u.view),n(u.view==="staff-details"&&u.staffId||null);return}const w=window.location.pathname.match(/^\/staff\/([^/]+)$/);if(w){r("staff-details"),n(w[1]);return}n(null),r("overview")};return i(),window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[]);const f=[{id:"overview",label:"Overview",icon:Qe},{id:"appointments",label:"Appointments",icon:Pe},{id:"clients",label:"Clients",icon:G},{id:"staff",label:"Staff",icon:G},{id:"services",label:"Services",icon:ce},{id:"products",label:"Products",icon:Ge},{id:"inventory",label:"Inventory",icon:$e},{id:"revenue",label:"Revenue",icon:Be},{id:"settings",label:"Settings",icon:qe},{id:"help",label:"Help",icon:Ae}],E=i=>{if(r(i),i!=="staff-details"&&n(null),typeof window<"u"){const v=i==="staff-details"&&a?`/staff/${a}`:"/";window.history.pushState({view:i,staffId:i==="staff-details"?a:void 0},"",v)}},O=i=>{n(i),r("staff-details"),typeof window<"u"&&window.history.pushState({view:"staff-details",staffId:i},"",`/staff/${i}`)},x=b||c?.activeBranchId||null,N=()=>{switch(t){case"overview":return s.jsx(ee,{});case"appointments":return s.jsx(Je,{activeBranchId:x});case"clients":return s.jsx(et,{activeBranchId:x});case"staff":return s.jsx(tt,{activeBranchId:x,onOpenDetails:O});case"staff-details":return s.jsx(st,{staffId:a});case"services":return s.jsx(it,{activeBranchId:x});case"products":return s.jsx(nt,{});case"inventory":return s.jsx(rt,{});case"revenue":return s.jsx(at,{});case"settings":return s.jsx(ot,{});case"help":return s.jsx(lt,{});default:return s.jsx(ee,{})}},C=c?.tenant?.name||"SalonMind",j=c?.tenant?.logoUrl,R=c?.branches||[],k=b||c?.activeBranchId||"",M=R.length>1,H=c?.subscription?`${c.subscription.planName} Â· ${c.subscription.status}`:"No active subscription",m=i=>{d(i),typeof window<"u"&&localStorage.setItem(P.ACTIVE_BRANCH_ID,i),S.mutate(i)};return s.jsxs("div",{className:"flex h-screen",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 25%, #0c4a6e 50%, #1e3a5f 75%, #0f172a 100%)"},children:[s.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-64 border-r border-blue-400/30 backdrop-blur-lg",style:{background:"linear-gradient(180deg, #0f172a 0%, #1e3a8a 35%, #0c4a6e 50%, #1e3a8a 65%, #0f172a 100%)"},children:[s.jsxs("div",{className:"flex items-center gap-3 p-6 border-b border-blue-400/30",children:[s.jsx(V,{size:44}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-blue-100",children:"SalonMind"}),s.jsx("p",{className:"text-xs text-blue-300/80",children:"AI-Powered"})]})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-1",children:f.map(i=>{const v=i.icon,u=t===i.id||t==="staff-details"&&i.id==="staff";return s.jsxs("button",{onClick:()=>E(i.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${u?"bg-blue-500/30 text-blue-100 border border-blue-400/40 shadow-lg shadow-blue-500/20":"text-blue-200/70 hover:bg-blue-500/20 hover:text-blue-100"}`,children:[s.jsx(v,{className:"w-5 h-5"}),s.jsx("span",{children:i.label})]},i.id)})}),s.jsx("div",{className:"p-4 border-t border-blue-400/30",children:s.jsxs(D,{onClick:e,variant:"outline",className:"w-full justify-start gap-3 border-blue-400/30 text-blue-200/70 hover:text-blue-100 hover:bg-blue-500/20",children:[s.jsx(J,{className:"w-5 h-5"}),"Logout"]})})]}),p&&s.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:()=>o(!1)}),s.jsxs("aside",{className:"absolute left-0 top-0 bottom-0 w-64 border-r border-blue-400/30 flex flex-col backdrop-blur-lg",style:{background:"linear-gradient(180deg, #0f172a 0%, #1e3a8a 35%, #0c4a6e 50%, #1e3a8a 65%, #0f172a 100%)"},children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-blue-400/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(V,{size:44}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-blue-100",children:"SalonMind"}),s.jsx("p",{className:"text-xs text-blue-300/80",children:"AI-Powered"})]})]}),s.jsx(D,{variant:"ghost",size:"icon",onClick:()=>o(!1),className:"text-blue-100 hover:bg-blue-500/20",children:s.jsx(Ye,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-1",children:f.map(i=>{const v=i.icon,u=t===i.id||t==="staff-details"&&i.id==="staff";return s.jsxs("button",{onClick:()=>{E(i.id),o(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${u?"bg-blue-500/30 text-blue-100 border border-blue-400/40 shadow-lg shadow-blue-500/20":"text-blue-200/70 hover:bg-blue-500/20 hover:text-blue-100"}`,children:[s.jsx(v,{className:"w-5 h-5"}),s.jsx("span",{children:i.label})]},i.id)})}),s.jsx("div",{className:"p-4 border-t border-blue-400/30",children:s.jsxs(D,{onClick:e,variant:"outline",className:"w-full justify-start gap-3 border-blue-400/30 text-blue-200/70 hover:text-blue-100 hover:bg-blue-500/20",children:[s.jsx(J,{className:"w-5 h-5"}),"Logout"]})})]})]}),s.jsxs("main",{className:"flex-1 overflow-auto",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 25%, #0c4a6e 50%, #1e3a5f 75%, #0f172a 100%)"},children:[s.jsx("header",{className:"border-b border-blue-400/30 px-6 py-4 lg:hidden backdrop-blur-md",style:{background:"linear-gradient(90deg, #0f172a 0%, #1e3a8a 50%, #0c4a6e 100%)"},children:s.jsx(D,{variant:"ghost",size:"icon",onClick:()=>o(!0),className:"text-blue-100",children:s.jsx(Fe,{className:"w-6 h-6"})})}),s.jsxs("div",{className:"p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:h?s.jsx("div",{className:"h-24 rounded-xl bg-white/10 animate-pulse"}):c?s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between rounded-xl border border-blue-400/20 bg-white/5 p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[j?s.jsx("img",{src:j,alt:"Salon logo",className:"w-14 h-14 rounded-full border border-blue-400/40 object-cover"}):s.jsx(V,{size:48}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-blue-100",children:C}),s.jsx(he,{className:"mt-1 bg-blue-500/20 text-blue-100 border border-blue-400/30",children:H})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 w-full max-w-xs",children:[s.jsx("p",{className:"text-sm text-blue-100",children:"Active Branch"}),R.length?s.jsxs(ue,{value:k,onValueChange:m,disabled:!M||S.isPending,children:[s.jsx(de,{className:"bg-black/20 border-blue-400/40 text-blue-100",children:s.jsx(fe,{placeholder:"Select branch"})}),s.jsx(pe,{children:R.map(i=>s.jsxs(be,{value:i.id,children:[i.name," ",i.isDefault?"(Default)":""]},i.id))})]}):s.jsx("p",{className:"text-sm text-blue-200",children:"Branch will appear once onboarding completes."})]})]}):s.jsx("div",{className:"p-4 rounded-xl bg-white/5 text-sm text-blue-100",children:"Unable to load tenant context."})}),s.jsx(l.Suspense,{fallback:s.jsx(ct,{}),children:N()})]})]})]})}const pt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));export{Pe as C,Be as D,$e as P,Ge as S,Ye as X,Me as a,Ae as b,pt as c,ke as u};
