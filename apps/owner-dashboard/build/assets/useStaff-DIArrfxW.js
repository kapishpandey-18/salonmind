import{u as i,a as u}from"./Dashboard-vSO5UD5A.js";import{z as s,A as o,q as l}from"./index-_T_dclBo.js";const F=(a,e)=>{const t=a.data?.[e]??[];return{items:t,pagination:a.pagination??{page:1,limit:t.length,total:t.length,totalPages:1,hasNext:!1,hasPrev:!1}}},r={async list(a){const e=await s.get(o.OWNER.STAFF,{params:{...a,branchId:a.branchId||void 0}});return F(e,"staff")},async create(a){return(await s.post(o.OWNER.STAFF,a)).data?.staff},async update(a,e){return(await s.patch(`${o.OWNER.STAFF}/${a}`,e)).data?.staff},async updateStatus(a,e){return(await s.patch(`${o.OWNER.STAFF}/${a}/status`,{isActive:e})).data?.staff},async detail(a){return(await s.get(`${o.OWNER.STAFF}/${a}`)).data?.staff},async remove(a){await s.delete(`${o.OWNER.STAFF}/${a}`)}},y=a=>["owner-staff",a.branchId,a.search,a.page,a.limit];function g(a){return i({queryKey:y(a),queryFn:()=>r.list(a),enabled:!!a.branchId,keepPreviousData:!0})}function v(a){return i({queryKey:["owner-staff-detail",a],queryFn:()=>r.detail(a),enabled:!!a})}function w(a){const e=l(),t=()=>e.invalidateQueries({queryKey:["owner-staff",a],exact:!1}),p=u({mutationFn:n=>r.create({...n,branchId:n.branchId||a||void 0}),onSuccess:t}),d=u({mutationFn:({id:n,data:c})=>r.update(n,c),onSuccess:t}),f=u({mutationFn:({id:n,isActive:c})=>r.updateStatus(n,c),onSuccess:t}),S=u({mutationFn:n=>r.remove(n),onSuccess:t});return{create:p,update:d,updateStatus:f,remove:S}}export{w as a,v as b,g as u};
