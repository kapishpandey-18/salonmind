import{u as S,a as u}from"./Dashboard-Bh94dQr3.js";import{z as s,A as o,q as m}from"./index-DEsDXUSK.js";const F=(a,t)=>{const e=a.data?.[t]??[];return{items:e,pagination:a.pagination??{page:1,limit:e.length,total:e.length,totalPages:1,hasNext:!1,hasPrev:!1}}},r={async list(a){const t=await s.get(o.OWNER.STAFF,{params:{...a,branchId:a.branchId||void 0}});return F(t,"staff")},async create(a){return(await s.post(o.OWNER.STAFF,a)).data?.staff},async update(a,t){return(await s.patch(`${o.OWNER.STAFF}/${a}`,t)).data?.staff},async updateStatus(a,t){return(await s.patch(`${o.OWNER.STAFF}/${a}/status`,{isActive:t})).data?.staff},async remove(a){await s.delete(`${o.OWNER.STAFF}/${a}`)}},y=a=>["owner-staff",a.branchId,a.search,a.page,a.limit];function v(a){return S({queryKey:y(a),queryFn:()=>r.list(a),enabled:!!a.branchId,keepPreviousData:!0})}function g(a){const t=m(),e=()=>t.invalidateQueries({queryKey:["owner-staff",a],exact:!1}),i=u({mutationFn:n=>r.create({...n,branchId:n.branchId||a||void 0}),onSuccess:e}),p=u({mutationFn:({id:n,data:c})=>r.update(n,c),onSuccess:e}),d=u({mutationFn:({id:n,isActive:c})=>r.updateStatus(n,c),onSuccess:e}),f=u({mutationFn:n=>r.remove(n),onSuccess:e});return{create:i,update:p,updateStatus:d,remove:f}}export{g as a,v as u};
